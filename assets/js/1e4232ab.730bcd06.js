"use strict";(self.webpackChunkwasm_edge=self.webpackChunkwasm_edge||[]).push([[818],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>g});var n=a(7294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var m=n.createContext({}),o=function(e){var t=n.useContext(m),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=o(e.components);return n.createElement(m.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,m=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=o(a),c=l,g=d["".concat(m,".").concat(c)]||d[c]||p[c]||r;return a?n.createElement(g,i(i({ref:t},u),{},{components:a})):n.createElement(g,i({ref:t},u))}));function g(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=c;var s={};for(var m in t)hasOwnProperty.call(t,m)&&(s[m]=t[m]);s.originalType=e,s[d]="string"==typeof e?e:l,i[1]=s;for(var o=2;o<r;o++)i[o]=a[o];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},6193:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>o});var n=a(7462),l=(a(7294),a(3905));const r={sidebar_position:2},i="Using WasmEdge in Docker",s={unversionedId:"tutorial-basics/create-a-document",id:"tutorial-basics/create-a-document",title:"Using WasmEdge in Docker",description:"Set-it-up via Docker",source:"@site/docs/tutorial-basics/create-a-document.md",sourceDirName:"tutorial-basics",slug:"/tutorial-basics/create-a-document",permalink:"/my-wasmu-wesbite/docs/tutorial-basics/create-a-document",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial-basics/create-a-document.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"What's Installed",permalink:"/my-wasmu-wesbite/docs/tutorial-basics/create-a-page"},next:{title:"Running WASM with WasmEdge CLI",permalink:"/my-wasmu-wesbite/docs/tutorial-basics/create-a-blog-post"}},m={},o=[{value:"WasmEdge DockerSlim",id:"wasmedge-dockerslim",level:2},{value:"Examples",id:"examples",level:2},{value:"Docker Images for Building WasmEdge",id:"docker-images-for-building-wasmedge",level:2}],u={toc:o},d="wrapper";function p(e){let{components:t,...a}=e;return(0,l.kt)(d,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"using-wasmedge-in-docker"},"Using WasmEdge in Docker"),(0,l.kt)("p",null,"Set-it-up via Docker"),(0,l.kt)("h2",{id:"wasmedge-dockerslim"},"WasmEdge DockerSlim"),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"wasmedge/slim:{version}")," Docker images provide a slim WasmEdge images built with DockerSlim every releases."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Image ",(0,l.kt)("inlineCode",{parentName:"li"},"wasmedge/slim-runtime:{version}")," includes only WasmEdge runtime with wasmedge command."),(0,l.kt)("li",{parentName:"ul"},"Image ",(0,l.kt)("inlineCode",{parentName:"li"},"wasmedge/slim:{version}")," includes the following command line utilities:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"wasmedge")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"wasmedgec")))),(0,l.kt)("li",{parentName:"ul"},"Image ",(0,l.kt)("inlineCode",{parentName:"li"},"wasmedge/slim-tf:{version}")," includes the following command line utilities:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"wasmedge")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"wasmedgec")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"wasmedge-tensorflow-lite")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"wasmedge-tensorflow")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"show-tflite-tensor")),(0,l.kt)("li",{parentName:"ul"},"The working directory of the release docker image is /app")))),(0,l.kt)("h2",{id:"examples"},"Examples"),(0,l.kt)("p",null,"Use ",(0,l.kt)("inlineCode",{parentName:"p"},"wasmedgec")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"wasmedge")," ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/WasmEdge/WasmEdge/tree/master/examples/wasm"},"link"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"$ docker pull wasmedge/slim:0.11.2\n\n$ docker run -it --rm -v $PWD:/app wasmedge/slim:0.11.2 wasmedgec hello.wasm hello.aot.wasm\n[2022-07-07 08:15:49.154] [info] compile start\n[2022-07-07 08:15:49.163] [info] verify start\n[2022-07-07 08:15:49.169] [info] optimize start\n[2022-07-07 08:15:49.808] [info] codegen start\n[2022-07-07 08:15:50.419] [info] output start\n[2022-07-07 08:15:50.421] [info] compile done\n[2022-07-07 08:15:50.422] [info] output start\n\n$ docker run -it --rm -v $PWD:/app wasmedge/slim:0.11.2 wasmedge hello.aot.wasm world\nhello\nworld\n")),(0,l.kt)("p",null,"Use ",(0,l.kt)("inlineCode",{parentName:"p"},"wasmedge-tensorflow-lite")," ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/WasmEdge/WasmEdge/tree/master/examples/js"},"link"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"$ docker pull wasmedge/slim-tf:0.11.2\n$ wget https://raw.githubusercontent.com/second-state/wasmedge-quickjs/main/example_js/tensorflow_lite_demo/aiy_food_V1_labelmap.txt\n$ wget https://raw.githubusercontent.com/second-state/wasmedge-quickjs/main/example_js/tensorflow_lite_demo/food.jpg\n$ wget https://raw.githubusercontent.com/second-state/wasmedge-quickjs/main/example_js/tensorflow_lite_demo/lite-model_aiy_vision_classifier_food_V1_1.tflite\n$ wget https://raw.githubusercontent.com/second-state/wasmedge-quickjs/main/example_js/tensorflow_lite_demo/main.js\n\n$ docker run -it --rm -v $PWD:/app wasmedge/slim-tf:0.11.2 wasmedge-tensorflow-lite --dir .:. qjs_tf.wasm main.js\nlabel:\nHot dog\nconfidence:\n0.8941176470588236\n")),(0,l.kt)("h2",{id:"docker-images-for-building-wasmedge"},"Docker Images for Building WasmEdge"),(0,l.kt)("p",null,"WasmEdge supports a wide range of Linux distributions dated back to 2014. The official release contains statically linked binaries and libraries for older Linux systems. The table below shows build targets in WasmEdge's official release packages."),(0,l.kt)("p",null,"Developers can use the ",(0,l.kt)("inlineCode",{parentName:"p"},"docker pull wasmedge/wasmedge:{tag_name}")," command to pull the docker image for WasmEdge building."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Tag Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Arch"),(0,l.kt)("th",{parentName:"tr",align:null},"Based Operating System"),(0,l.kt)("th",{parentName:"tr",align:null},"LLVM version"),(0,l.kt)("th",{parentName:"tr",align:null},"ENV's"),(0,l.kt)("th",{parentName:"tr",align:null},"Compatiblity"),(0,l.kt)("th",{parentName:"tr",align:null},"Comments"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"latest")),(0,l.kt)("td",{parentName:"tr",align:null},"x86_64"),(0,l.kt)("td",{parentName:"tr",align:null},"Ubuntu 20.04 LTS"),(0,l.kt)("td",{parentName:"tr",align:null},"12.0.0"),(0,l.kt)("td",{parentName:"tr",align:null},"CC=clang, CXX=clang++"),(0,l.kt)("td",{parentName:"tr",align:null},"Ubuntu 20.04+"),(0,l.kt)("td",{parentName:"tr",align:null},"This is for CI, will always use the latest Ubuntu LTS release")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"ubuntu-build-gcc")),(0,l.kt)("td",{parentName:"tr",align:null},"x86_64"),(0,l.kt)("td",{parentName:"tr",align:null},"Ubuntu 20.04 LTS"),(0,l.kt)("td",{parentName:"tr",align:null},"12.0.0"),(0,l.kt)("td",{parentName:"tr",align:null},"CC=gcc, CXX=g++"),(0,l.kt)("td",{parentName:"tr",align:null},"Ubuntu 20.04+"),(0,l.kt)("td",{parentName:"tr",align:null},"This is for CI, will always use the latest Ubuntu LTS release")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"ubuntu-build-clang")),(0,l.kt)("td",{parentName:"tr",align:null},"x86_64"),(0,l.kt)("td",{parentName:"tr",align:null},"Ubuntu 20.04 LTS"),(0,l.kt)("td",{parentName:"tr",align:null},"12.0.0"),(0,l.kt)("td",{parentName:"tr",align:null},"CC=clang, CXX=clang++"),(0,l.kt)("td",{parentName:"tr",align:null},"Ubuntu 20.04+"),(0,l.kt)("td",{parentName:"tr",align:null},"This is for CI, will always use the latest Ubuntu LTS release")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"ubuntu2004_x86_64")),(0,l.kt)("td",{parentName:"tr",align:null},"x86_64"),(0,l.kt)("td",{parentName:"tr",align:null},"Ubuntu 20.04 LTS"),(0,l.kt)("td",{parentName:"tr",align:null},"10.0.0"),(0,l.kt)("td",{parentName:"tr",align:null},"CC=gcc, CXX=g++"),(0,l.kt)("td",{parentName:"tr",align:null},"Ubuntu 20.04+"),(0,l.kt)("td",{parentName:"tr",align:null},"This is for developers who familiar with Ubuntu 20.04 LTS release")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"ubuntu2104_armv7l")),(0,l.kt)("td",{parentName:"tr",align:null},"armhf"),(0,l.kt)("td",{parentName:"tr",align:null},"Ubuntu 21.04"),(0,l.kt)("td",{parentName:"tr",align:null},"12.0.0"),(0,l.kt)("td",{parentName:"tr",align:null},"CC=gcc, CXX=g++"),(0,l.kt)("td",{parentName:"tr",align:null},"Ubuntu 21.04+"),(0,l.kt)("td",{parentName:"tr",align:null},"This is for armhf release")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"manylinux2014_x86_64")),(0,l.kt)("td",{parentName:"tr",align:null},"x86_64"),(0,l.kt)("td",{parentName:"tr",align:null},"CentOS 7, 7.9.2009"),(0,l.kt)("td",{parentName:"tr",align:null},"12.0.0"),(0,l.kt)("td",{parentName:"tr",align:null},"CC=gcc, CXX=g++"),(0,l.kt)("td",{parentName:"tr",align:null},"Ubuntu 16.04+, CentOS 7+"),(0,l.kt)("td",{parentName:"tr",align:null},"This is for developers who familiar with CentOS on x86_64 architecture")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"manylinux2014_aarch64")),(0,l.kt)("td",{parentName:"tr",align:null},"aarch64"),(0,l.kt)("td",{parentName:"tr",align:null},"CentOS 7, 7.9.2009"),(0,l.kt)("td",{parentName:"tr",align:null},"12.0.0"),(0,l.kt)("td",{parentName:"tr",align:null},"CC=gcc, CXX=g++"),(0,l.kt)("td",{parentName:"tr",align:null},"Ubuntu 16.04+, CentOS 7+"),(0,l.kt)("td",{parentName:"tr",align:null},"This is for developers who familiar with CentOS on aarch64 architecture")))))}p.isMDXComponent=!0}}]);